/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/zrender@5.5.0/lib/contain/text.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function t(t,i,e){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4]+e[0],t[5]=i[5]+e[1],t}var i=function(){function t(t,i){this.x=t||0,this.y=i||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,i){return this.x=t,this.y=i,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,i){this.x+=t.x*i,this.y+=t.y*i},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var i=this.x-t.x,e=this.y-t.y;return Math.sqrt(i*i+e*e)},t.prototype.distanceSquare=function(t){var i=this.x-t.x,e=this.y-t.y;return i*i+e*e},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var i=this.x,e=this.y;return this.x=t[0]*i+t[2]*e+t[4],this.y=t[1]*i+t[3]*e+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,i,e){t.x=i,t.y=e},t.copy=function(t,i){t.x=i.x,t.y=i.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,i){return t.x*i.x+t.y*i.y},t.add=function(t,i,e){t.x=i.x+e.x,t.y=i.y+e.y},t.sub=function(t,i,e){t.x=i.x-e.x,t.y=i.y-e.y},t.scale=function(t,i,e){t.x=i.x*e,t.y=i.y*e},t.scaleAndAdd=function(t,i,e,n){t.x=i.x+e.x*n,t.y=i.y+e.y*n},t.lerp=function(t,i,e,n){var r=1-n;t.x=r*i.x+n*e.x,t.y=r*i.y+n*e.y},t}(),e=Math.min,n=Math.max,r=new i,h=new i,o=new i,s=new i,a=new i,u=new i,y=function(){function y(t,i,e,n){e<0&&(t+=e,e=-e),n<0&&(i+=n,n=-n),this.x=t,this.y=i,this.width=e,this.height=n}return y.prototype.union=function(t){var i=e(t.x,this.x),r=e(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=n(t.x+t.width,this.x+this.width)-i:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=n(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=i,this.y=r},y.prototype.applyTransform=function(t){y.applyTransform(this,this,t)},y.prototype.calculateTransform=function(i){var e=this,n=i.width/e.width,r=i.height/e.height,h=[1,0,0,1,0,0];return t(h,h,[-e.x,-e.y]),function(t,i,e){var n=e[0],r=e[1];t[0]=i[0]*n,t[1]=i[1]*r,t[2]=i[2]*n,t[3]=i[3]*r,t[4]=i[4]*n,t[5]=i[5]*r}(h,h,[n,r]),t(h,h,[i.x,i.y]),h},y.prototype.intersect=function(t,e){if(!t)return!1;t instanceof y||(t=y.create(t));var n=this,r=n.x,h=n.x+n.width,o=n.y,s=n.y+n.height,c=t.x,f=t.x+t.width,x=t.y,p=t.y+t.height,l=!(h<c||f<r||s<x||p<o);if(e){var d=1/0,g=0,m=Math.abs(h-c),v=Math.abs(f-r),w=Math.abs(s-x),L=Math.abs(p-o),b=Math.min(m,v),F=Math.min(w,L);h<c||f<r?b>g&&(g=b,m<v?i.set(u,-m,0):i.set(u,v,0)):b<d&&(d=b,m<v?i.set(a,m,0):i.set(a,-v,0)),s<x||p<o?F>g&&(g=F,w<L?i.set(u,0,-w):i.set(u,0,L)):b<d&&(d=b,w<L?i.set(a,0,w):i.set(a,0,-L))}return e&&i.copy(e,l?a:u),l},y.prototype.contain=function(t,i){var e=this;return t>=e.x&&t<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},y.prototype.clone=function(){return new y(this.x,this.y,this.width,this.height)},y.prototype.copy=function(t){y.copy(this,t)},y.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},y.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},y.prototype.isZero=function(){return 0===this.width||0===this.height},y.create=function(t){return new y(t.x,t.y,t.width,t.height)},y.copy=function(t,i){t.x=i.x,t.y=i.y,t.width=i.width,t.height=i.height},y.applyTransform=function(t,i,a){if(a){if(a[1]<1e-5&&a[1]>-1e-5&&a[2]<1e-5&&a[2]>-1e-5){var u=a[0],c=a[3],f=a[4],x=a[5];return t.x=i.x*u+f,t.y=i.y*c+x,t.width=i.width*u,t.height=i.height*c,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}r.x=o.x=i.x,r.y=s.y=i.y,h.x=s.x=i.x+i.width,h.y=o.y=i.y+i.height,r.transform(a),s.transform(a),h.transform(a),o.transform(a),t.x=e(r.x,h.x,o.x,s.x),t.y=e(r.y,h.y,o.y,s.y);var p=n(r.x,h.x,o.x,s.x),l=n(r.y,h.y,o.y,s.y);t.width=p-t.x,t.height=l-t.y}else t!==i&&y.copy(t,i)},y}(),c=function(t){this.value=t},f=function(){function t(){this._len=0}return t.prototype.insert=function(t){var i=new c(t);return this.insertEntry(i),i},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var i=t.prev,e=t.next;i?i.next=e:this.head=e,e?e.prev=i:this.tail=i,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),x=function(){function t(t){this._list=new f,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,i){var e=this._list,n=this._map,r=null;if(null==n[t]){var h=e.len(),o=this._lastRemovedEntry;if(h>=this._maxSize&&h>0){var s=e.head;e.remove(s),delete n[s.key],r=s.value,this._lastRemovedEntry=s}o?o.value=i:o=new c(i),o.key=t,e.insertEntry(o),n[t]=o}return r},t.prototype.get=function(t){var i=this._map[t],e=this._list;if(null!=i)return i!==e.tail&&(e.remove(i),e.insertEntry(i)),i.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),p="12px sans-serif";var l,d,g=function(t){var i={};if("undefined"==typeof JSON)return i;for(var e=0;e<t.length;e++){var n=String.fromCharCode(e+32),r=(t.charCodeAt(e)-20)/100;i[n]=r}return i}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),m={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,i){if(!l){var e=m.createCanvas();l=e&&e.getContext("2d")}if(l)return d!==i&&(d=l.font=i||p),l.measureText(t);t=t||"";var n=/(\d+)px/.exec(i=i||p),r=n&&+n[1]||12,h=0;if(i.indexOf("mono")>=0)h=r*t.length;else for(var o=0;o<t.length;o++){var s=g[t[o]];h+=null==s?r:s*r}return{width:h}},loadImage:function(t,i,e){var n=new Image;return n.onload=i,n.onerror=e,n.src=t,n}},v={};function w(t,i){var e=v[i=i||p];e||(e=v[i]=new x(500));var n=e.get(t);return null==n&&(n=m.measureText(t,i).width,e.put(t,n)),n}function L(t,i,e,n){var r=w(t,i),h=k(i),o=F(0,r,e),s=_(0,h,n);return new y(o,s,r,h)}function b(t,i,e,n){var r=((t||"")+"").split("\n");if(1===r.length)return L(r[0],i,e,n);for(var h=new y(0,0,0,0),o=0;o<r.length;o++){var s=L(r[o],i,e,n);0===o?h.copy(s):h.union(s)}return h}function F(t,i,e){return"right"===e?t-=i:"center"===e&&(t-=i/2),t}function _(t,i,e){return"middle"===e?t-=i/2:"bottom"===e&&(t-=i),t}function k(t){return w("å›½",t)}function M(t,i){return m.measureText(t,i)}function T(t,i){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*i:parseFloat(t):t}function W(t,i,e){var n=i.position||"inside",r=null!=i.distance?i.distance:5,h=e.height,o=e.width,s=h/2,a=e.x,u=e.y,y="left",c="top";if(n instanceof Array)a+=T(n[0],e.width),u+=T(n[1],e.height),y=null,c=null;else switch(n){case"left":a-=r,u+=s,y="right",c="middle";break;case"right":a+=r+o,u+=s,c="middle";break;case"top":a+=o/2,u-=r,y="center",c="bottom";break;case"bottom":a+=o/2,u+=h+r,y="center";break;case"inside":a+=o/2,u+=s,y="center",c="middle";break;case"insideLeft":a+=r,u+=s,c="middle";break;case"insideRight":a+=o-r,u+=s,y="right",c="middle";break;case"insideTop":a+=o/2,u+=r,y="center";break;case"insideBottom":a+=o/2,u+=h-r,y="center",c="bottom";break;case"insideTopLeft":a+=r,u+=r;break;case"insideTopRight":a+=o-r,u+=r,y="right";break;case"insideBottomLeft":a+=r,u+=h-r,c="bottom";break;case"insideBottomRight":a+=o-r,u+=h-r,y="right",c="bottom"}return(t=t||{}).x=a,t.y=u,t.align=y,t.verticalAlign=c,t}export{F as adjustTextX,_ as adjustTextY,W as calculateTextPosition,b as getBoundingRect,k as getLineHeight,w as getWidth,L as innerGetBoundingRect,M as measureText,T as parsePercent};export default null;
