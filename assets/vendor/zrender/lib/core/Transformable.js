/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/zrender@5.5.0/lib/core/Transformable.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function t(t,r,o){var n=r[0]*o[0]+r[2]*o[1],a=r[1]*o[0]+r[3]*o[1],s=r[0]*o[2]+r[2]*o[3],i=r[1]*o[2]+r[3]*o[3],e=r[0]*o[4]+r[2]*o[5]+r[4],h=r[1]*o[4]+r[3]*o[5]+r[5];return t[0]=n,t[1]=a,t[2]=s,t[3]=i,t[4]=e,t[5]=h,t}function r(t,r,o){var n=r[0],a=r[1];return t[0]=o[0]*n+o[2]*a+o[4],t[1]=o[1]*n+o[3]*a+o[5],t}var o=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n=5e-5;function a(t){return t>n||t<-5e-5}var s=[],i=[],e=[1,0,0,1,0,0],h=Math.abs,f=function(){function n(){}var f;return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return a(this.rotation)||a(this.x)||a(this.y)||a(this.scaleX-1)||a(this.scaleY-1)||a(this.skewX)||a(this.skewY)},n.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform,n=this.needLocalTransform(),a=this.transform;n||r?(a=a||[1,0,0,1,0,0],n?this.getLocalTransform(a):o(a),r&&(n?t(a,r,a):function(t,r){t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5]}(a,r)),this.transform=a,this._resolveGlobalScaleRatio(a)):a&&(o(a),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(t){var r,o,n,a,i,e,h,f,c,l=this.globalScaleRatio;if(null!=l&&1!==l){this.getGlobalScale(s);var p=s[0]<0?-1:1,u=s[1]<0?-1:1,m=((s[0]-p)*l+p)/s[0]||0,v=((s[1]-u)*l+u)/s[1]||0;t[0]*=m,t[1]*=m,t[2]*=v,t[3]*=v}this.invTransform=this.invTransform||[1,0,0,1,0,0],r=this.invTransform,n=(o=t)[0],a=o[2],i=o[4],e=o[1],h=o[3],f=o[5],(c=n*h-e*a)&&(c=1/c,r[0]=h*c,r[1]=-e*c,r[2]=-a*c,r[3]=n*c,r[4]=(a*f-h*i)*c,r[5]=(e*i-n*f)*c)},n.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],o=t[2]*t[2]+t[3]*t[3],n=Math.atan2(t[1],t[0]),a=Math.PI/2+n-Math.atan2(t[3],t[2]);o=Math.sqrt(o)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-n,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=o,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var r=this.parent,o=this.transform;r&&r.transform&&(r.invTransform=r.invTransform||[1,0,0,1,0,0],t(i,r.invTransform,o),o=i);var n=this.originX,a=this.originY;(n||a)&&(e[4]=n,e[5]=a,t(i,o,e),i[4]-=n,i[5]-=a,o=i),this.setLocalTransform(o)}},n.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,o){var n=[t,o],a=this.invTransform;return a&&r(n,n,a),n},n.prototype.transformCoordToGlobal=function(t,o){var n=[t,o],a=this.transform;return a&&r(n,n,a),n},n.prototype.getLineScale=function(){var t=this.transform;return t&&h(t[0]-1)>1e-10&&h(t[3]-1)>1e-10?Math.sqrt(h(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){l(this,t)},n.getLocalTransform=function(t,r){r=r||[];var o=t.originX||0,n=t.originY||0,a=t.scaleX,s=t.scaleY,i=t.anchorX,e=t.anchorY,h=t.rotation||0,f=t.x,c=t.y,l=t.skewX?Math.tan(t.skewX):0,p=t.skewY?Math.tan(-t.skewY):0;if(o||n||i||e){var u=o+i,m=n+e;r[4]=-u*a-l*m*s,r[5]=-m*s-p*u*a}else r[4]=r[5]=0;return r[0]=a,r[3]=s,r[1]=p*a,r[2]=l*s,h&&function(t,r,o,n){void 0===n&&(n=[0,0]);var a=r[0],s=r[2],i=r[4],e=r[1],h=r[3],f=r[5],c=Math.sin(o),l=Math.cos(o);t[0]=a*l+e*c,t[1]=-a*c+e*l,t[2]=s*l+h*c,t[3]=-s*c+l*h,t[4]=l*(i-n[0])+c*(f-n[1])+n[0],t[5]=l*(f-n[1])-c*(i-n[0])+n[1]}(r,r,h),r[4]+=o+f,r[5]+=n+c,r},n.initDefaultProps=((f=n.prototype).scaleX=f.scaleY=f.globalScaleRatio=1,void(f.x=f.y=f.originX=f.originY=f.skewX=f.skewY=f.rotation=f.anchorX=f.anchorY=0)),n}(),c=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function l(t,r){for(var o=0;o<c.length;o++){var n=c[o];t[n]=r[n]}}export{c as TRANSFORMABLE_PROPS,l as copyTransform,f as default};
